<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Interactive component | interactive.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Interactive component | interactive.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Interactive component | interactive.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Gender Education</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path=""><a href="#interactive-component"><i class="fa fa-check"></i><b>1</b> Interactive component</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:title:end-->
<!--bookdown:title:start-->
<div id="interactive-component" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Interactive component<a href="#interactive-component" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!-- Load d3.js -->
<script src="https://d3js.org/d3.v7.js">  </script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<!-- Create a div where the graph will take place -->
<!-- Add 2 buttons -->
<button onclick="update(&#39;prop_male&#39;)">
Male
</button>
<button onclick="update(&#39;prop_female&#39;)">
Female
</button>
<!-- Create a div where the graph will take place -->
<div id="my_dataviz">

</div>
<script>

// set the dimensions and margins of the graph
const margin = {top: 80, right: 25, bottom: 30, left: 40},
  width = 450 - margin.left - margin.right,
  height = 450 - margin.top - margin.bottom;

// append the svg object to the body of the page
const svg = d3.select("#my_dataviz")
.append("svg")
  .attr("width", width + margin.left + margin.right)
  .attr("height", height + margin.top + margin.bottom)
.append("g")
  .attr("transform",
        "translate(" + margin.left + "," + margin.top + ")");

const x = d3.scaleBand()
    .range([ 0, width ])
    .padding(0.05);


const y = d3.scaleBand()
    .range([ height, 0 ])
    .padding(0.05);
  
const myColor = d3.scaleSequential()
    .interpolator(d3.interpolatePuRd)
    .domain([1,100])


 // Build X scales and axis:
  x.domain(["Least Developed","Less Developed","More Developed","Not Classified"])
  svg.append("g")
    .style("font-size", 12)
    .attr("transform", `translate(0, ${height})`)
    .call(d3.axisBottom(x).tickSize(0))
    .select(".domain").remove()
    
  // Build Y scales and axis:
  y.domain(["< 10","10 to 20","20 to 30","30 to 40","40 to 50","50 to 60","60 to 70","> 70"])

  svg.append("g")
    .style("font-size", 8)
    .call(d3.axisLeft(y).tickSize(0))
    .select(".domain").remove()
    
  const tooltip = d3.select("#my_dataviz")
    .append("div")
    .style("opacity", 0)
    .attr("class", "tooltip")
    .style("background-color", "white")
    .style("border", "solid")
    .style("border-width", "2px")
    .style("border-radius", "5px")
    .style("padding", "4px")
    
function update(selectedvar) {
//Read the data
d3.csv("https://raw.githubusercontent.com/FinalProjectGroup34/GenderEducation/main/male_female.csv").then(function(data) {

  
  const mouseover = function(event,d) {
    tooltip
      .style("opacity", 1)
    d3.select(this)
      .style("stroke", "black")
      .style("opacity", 1)
  }
      
      
  const mousemove = function(event,d) {
    tooltip
      .html(d[selectedvar]+'% of countries with tertiary completion rate in range: '+d.level+'% are '+d.Development_Regions)
      .style("left", ((event.x)+50)+"px")
      .style("top", ((event.y)+15)+ "px")
      .style("opacity", 0.7)
  }
  
  
  const mouseleave = function(event,d) {
    tooltip
      .style("opacity", 0)
    d3.select(this)
      .style("stroke", "none")
      .style("opacity", 1)
  }
  
        
        
  svg.selectAll()
    .data(data, function(d) {return d.Development_Regions+':'+d.level;})
    .join("rect")
      .attr("x", function(d) { return x(d.Development_Regions) })
      .attr("y", function(d) { return y(d.level) })
      .attr("rx", 4)
      .attr("ry", 4)
      .attr("width", x.bandwidth() )
      .attr("height", y.bandwidth() )
      .style("fill", function(d) { return myColor(d[selectedvar])} )
      .style("stroke-width", 2)
      .style("stroke", "none")
    .on("mouseover", mouseover)
    .on("mousemove", mousemove)
    .on("mouseleave", mouseleave)
})
}

// Initialize plot
update('prop_male')

// Add title to graph
svg.append("text")
        .attr("x", 0)
        .attr("y", -50)
        .attr("text-anchor", "left")
        .style("font-size", "16px")
        .text("Heatmap of tertiary completion rate and Development");

// Add subtitle to graph
svg.append("text")
        .attr("x", 0)
        .attr("y", -30)
        .attr("text-anchor", "left")
        .style("font-size", "14px")
        .style("fill", "grey")
        .style("max-width", 400)
        .text("Click the above button to view the association with Sex");
        
// Add subtitle to graph
svg.append("text")
        .attr("x", 0)
        .attr("y", -15)
        .attr("text-anchor", "left")
        .style("font-size", "14px")
        .style("fill", "grey")
        .style("max-width", 400)
        .text("Move your pointer to discover detail values");

</script>
<p>This heatmap supports that less developed regions have fewer educational resources, resulting in lower rates in related indicators.
It also shows a tendency that more-educated females seem more likely to live in more developed countries. Moreover, we also find this interesting trend that in the tertiary education aspect, female rates are better than male rates, which is consistent with what we find during our exploration.</p>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/FinalProjectGroup34/GenderEducation/edit/main/%s",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/FinalProjectGroup34/GenderEducation/blob/main/%s",
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
